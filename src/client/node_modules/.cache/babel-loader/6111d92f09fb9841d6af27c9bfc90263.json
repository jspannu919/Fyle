{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/jaideeppannu/Desktop/learning/fyle/src/client/src/App.jsx\",\n    _s = $RefreshSig$();\n\nimport \"./App.css\";\nimport Table from \"./components/Table\";\nimport { Input, Select } from \"antd\";\nimport { SearchOutlined, LoadingOutlined } from \"@ant-design/icons\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nconst {\n  Option\n} = Select;\n\nfunction App() {\n  _s();\n\n  const [branches, setBranches] = useState([]);\n  const [state, setState] = useState(\"Any\");\n  const [city, setCity] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    axios.get(\"/api/branches\").then(({\n      data\n    }) => {\n      setBranches(data);\n      setLoading(false);\n    });\n  }, []);\n  console.log(branches); //fetch cities as per state selected\n\n  function getCities() {\n    if (state !== \"Any\") {\n      let cities = new Set();\n      branches.forEach(branch => {\n        if (branch.state === state) cities.add(branch.city);\n      });\n      return [...cities].map(city => /*#__PURE__*/_jsxDEV(Option, {\n        value: city,\n        children: city\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 40\n      }, this));\n    } else return [];\n  }\n\n  function getStates() {\n    let states = new Set();\n    branches.forEach(branch => states.add(branch.state));\n    return [...states].map(state => /*#__PURE__*/_jsxDEV(Option, {\n      value: state,\n      children: state\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 39\n    }, this));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: loading ? /*#__PURE__*/_jsxDEV(LoadingOutlined, {\n      className: \"loadingIcon\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Branches\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"searchContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"citySearch\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"state\",\n            children: \"State: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            value: state,\n            className: \"stateSearchBar\",\n            onChange: setState,\n            children: [/*#__PURE__*/_jsxDEV(Option, {\n              value: \"Any\",\n              children: \"Any\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 17\n            }, this), getStates()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"city\",\n            children: \"City: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            value: city,\n            className: \"citySearchBar\",\n            onChange: setCity,\n            disabled: state === \"Any\",\n            children: [/*#__PURE__*/_jsxDEV(Option, {\n              value: \"any\",\n              children: \"Any\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 17\n            }, this), getCities()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          size: \"large\",\n          placeholder: \"Search\",\n          className: \"searchBar\",\n          prefix: /*#__PURE__*/_jsxDEV(SearchOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        branches: branches\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"XFicPlsHSecN2yKxVS8BCwiB+us=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/jaideeppannu/Desktop/learning/fyle/src/client/src/App.jsx"],"names":["Table","Input","Select","SearchOutlined","LoadingOutlined","useState","useEffect","axios","Option","App","branches","setBranches","state","setState","city","setCity","loading","setLoading","get","then","data","console","log","getCities","cities","Set","forEach","branch","add","map","getStates","states"],"mappings":"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","sourcesContent":["import \"./App.css\";\nimport Table from \"./components/Table\";\nimport { Input, Select } from \"antd\";\nimport { SearchOutlined, LoadingOutlined } from \"@ant-design/icons\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst { Option } = Select;\n\nfunction App() {\n  const [branches, setBranches] = useState([]);\n  const [state, setState] = useState(\"Any\");\n  const [city, setCity] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    axios.get(\"/api/branches\").then(({ data }) => {\n      setBranches(data);\n      setLoading(false);\n    });\n  }, []);\n\n  console.log(branches);\n\n  //fetch cities as per state selected\n  function getCities() {\n    if (state !== \"Any\") {\n      let cities = new Set();\n      branches.forEach((branch) => {\n        if (branch.state === state) cities.add(branch.city);\n      });\n      return [...cities].map((city) => <Option value={city}>{city}</Option>);\n    } else return [];\n  }\n\n  function getStates() {\n    let states = new Set();\n    branches.forEach((branch) => states.add(branch.state));\n    return [...states].map((state) => <Option value={state}>{state}</Option>);\n  }\n\n  return (\n    <div className=\"app\">\n      {loading ? (\n        <LoadingOutlined className=\"loadingIcon\" />\n      ) : (\n        <>\n          <h1>Branches</h1>\n          <div className=\"searchContainer\">\n            <div className=\"citySearch\">\n              <label htmlFor=\"state\">State: </label>\n              <Select\n                value={state}\n                className=\"stateSearchBar\"\n                onChange={setState}\n              >\n                <Option value=\"Any\">Any</Option>\n                {getStates()}\n              </Select>\n\n              <label htmlFor=\"city\">City: </label>\n              <Select\n                value={city}\n                className=\"citySearchBar\"\n                onChange={setCity}\n                disabled={state === \"Any\"}\n              >\n                <Option value=\"any\">Any</Option>\n                {getCities()}\n              </Select>\n            </div>\n            <Input\n              size=\"large\"\n              placeholder=\"Search\"\n              className=\"searchBar\"\n              prefix={<SearchOutlined />}\n            />\n          </div>\n          <Table branches={branches} />\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}